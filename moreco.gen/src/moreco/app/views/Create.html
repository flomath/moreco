
<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Create</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.0.1/css/foundation.min.css" />
	<link rel="stylesheet" href="assets/foundation-icons.css" />
	<link rel="stylesheet" href="assets/foundation-datepicker.min.css" />
	<style>
	.menu li.active a {
		color: red;
	}
	</style>
  </head>
  <body>

  	<!-- Navigation -->
    <div class="top-bar">
      <div class="top-bar-left">
    		<ul class="menu">
        			<li class=""><a href="overview.html">Overview</a></li>		

        			<li class="active"><a href="create.html">Create</a></li>		





    		</ul>
    	</div>
		<div class="top-bar-right">
			<h2>moreco <i class="fi-mountains"></i></h2>
		</div>
  	</div>
  	<!-- /Navigation -->

    <div class="row">
      <div class="large-12 columns">
        <h1>Create</h1>
      </div>
    </div>

    <!-- Form -->
    <div class="row">
      <div class="large-12 columns">
        <div class="callout large">
          <form method="post" action="javascript:;" onsubmit="onSubmit();" class="">


                <div class="row collapse">
                    <div class="large-2 columns">
                      <label for="User" class="inline">Username</label>
                    </div>
                  <div class="large-10 columns">
                    <input class=""
                      type="text" name="User" id="User"
                      placeholder=""
                      value=""/>
                  </div>
                </div>

                <div class="row collapse">
                    <div class="large-2 columns">
                      <label for="Description" class="inline">Description</label>
                    </div>
                  <div class="large-10 columns">
                    <input class=""
                      type="text" name="Description" id="Description"
                      placeholder=""
                      value=""/>
                  </div>
                </div>

                <div class="row collapse">
                    <div class="large-2 columns">
                      <label for="Start" class="inline">Start</label>
                    </div>
                  <div class="large-10 columns">
                    <input class="fdatepicker"
                      type="text" name="Start" id="Start"
                      placeholder=""
                      value=""/>
                  </div>
                </div>

                <div class="row collapse">
                    <div class="large-2 columns">
                      <label for="End" class="inline">End</label>
                    </div>
                  <div class="large-10 columns">
                    <input class="fdatepicker"
                      type="text" name="End" id="End"
                      placeholder=""
                      value=""/>
                  </div>
                </div>

                <div class="row collapse">
                  <div class="large-10 columns">
                    <input class="radius button"
                      type="submit" name="Submit" id="Submit"
                      placeholder=""
                      value="Create"/>
                  </div>
                </div>
          </form>
        </div>
      </div>
    </div>
    <!-- /Form -->

    <!-- Tables -->






    <!-- /Tables -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.0.1/js/vendor/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.0.1/js/foundation.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.0.1/js/vendor/what-input.min.js"></script>
   	<script src="assets/foundation-datepicker.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js"></script>

    <script type="text/javascript">
      $(function() {
        //Start of user code onLoad
        $('.fdatepicker').fdatepicker({
          format: 'dd.mm.yyyy hh:ii',
          disableDblClickSelection: true,
          pickTime: true
        });
        //End of user code
      });
      
      function onSubmit() {
        //Start of user code onSubmit
        if (!moment($('#Start').val(), 'DD.MM.YYYY hh:mm').isValid()) {
          alert("Wrong Start");
          return false;
        }
        if (!moment($('#End').val(), 'DD.MM.YYYY hh:mm').isValid()) {
          alert("Wrong End");
          return false;
        }

        CreateRecord();
        //End of user code
      }

      function CreateRecord() {
        //Start of user code CreateRecord
        $.ajax({
          dataType: "json",
          url: "http://localhost:8080/moreco/api/CreateRecord",
          type: "POST",
          data: {
            dateStart: moment($('#Start').val(), 'DD.MM.YYYY HH:mm').unix() * 1000,
            dateEnd: moment($('#End').val(), 'DD.MM.YYYY HH:mm').unix() * 1000,
            description: $('#Description').val(),
            user: $('#User').val()
          }
        }).done(function() {
            $('#Start').val("");
            $('#End').val("");
            $('#Description').val("");
            $('#User').val("");
        });

        return false;
        //End of user code
      }

      //Start of user code js_code
      // TODO: Implement
      //End of user code
    </script>
  </body>
</html>


